<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>UNDETALLIS — Mensajes Secuenciales</title>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>

<style>
    body {
        margin: 0;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background: url('assets/fondo.jpg') center center / cover no-repeat fixed;
        animation: wiggleBackground 0.8s infinite ease-in-out;
        overflow: hidden;
    }

    @keyframes wiggleBackground {
        0%   { transform: translate(0px, 0px) scale(1.02); }
        25%  { transform: translate(-2px, 1px) scale(1.02); }
        50%  { transform: translate(2px, -1px) scale(1.025); }
        75%  { transform: translate(-1px, -2px) scale(1.02); }
        100% { transform: translate(1px, 2px) scale(1.02); }
    }

    #frase {
        font-size: 2.5rem;
        font-weight: bold;
        text-align: center;
        color: white;
        padding: 20px 40px;
        background: rgba(255,255,255,0.9);
        border-radius: 25px;
        box-shadow: 0 0 25px #00eaff, 0 0 45px #00eaff inset;
        animation: neonPulse 1.5s infinite alternate ease-in-out, fadeIn 0.4s ease-in-out;
        max-width: 80%;
    }

    @keyframes neonPulse {
        from { box-shadow: 0 0 15px #00eaff, 0 0 25px #00eaff inset; }
        to   { box-shadow: 0 0 35px #00eaff, 0 0 65px #00eaff inset; }
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: scale(0.95); }
        to   { opacity: 1; transform: scale(1); }
    }
</style>
</head>

<body>
    <div id="frase">Cargando…</div>

<script>
/* ------------------------------ */
/* 1. CONFIGURACIÓN FIREBASE */
/* ------------------------------ */
const firebaseConfig = {
  apiKey: "AIzaSyCJ8sSO65rTjF04Dl7VMEuhrLj_Z9yAICs",
  authDomain: "undetallis.firebaseapp.com",
  databaseURL: "https://undetallis-default-rtdb.firebaseio.com",
  projectId: "undetallis",
  storageBucket: "undetallis.firebasestorage.app",
  messagingSenderId: "60709183880",
  appId: "1:60709183880:web:c7751f216ca7f5ad381a3d",
  measurementId: "G-5ZQY4JZBGX"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();
const ref = db.ref("contador");

/* ------------------------------ */
/* 2. LISTA COMPLETA DE 120 FRASES */
/* ------------------------------ */
const frases = [
"1. Te pienso más de lo que debería.",
"2. A veces quisiera escribirte, pero me aguanto.",
"3. No sé si tú también, pero yo sí extraño.",
"4. Últimamente todo me recuerda a ti.",
"5. Me pregunto si todavía te importo.",
"6. No quería sentir nada, pero pasó.",
"7. A veces me sonrío solo por lo que vivimos.",
"8. Me haces falta, aunque no debería.",
"9. No te lo digo, pero te llevo conmigo.",
"10. Si supieras todo lo que callo.",
"11. Todavía guardo cosas que no superé.",
"12. Intento olvidarte, pero no me sale.",
"13. Lo nuestro no se borra fácil.",
"14. Hay recuerdos que todavía duelen bonito.",
"15. Fuiste mi lugar seguro… y aún lo siento.",
"16. Me pregunto qué hubiera pasado si…",
"17. A veces quiero volver, pero no sé cómo.",
"18. No te escribo, pero reviso si estás.",
"19. Me cuesta soltar lo que fue real.",
"20. No te supero, solo lo disimulo.",
"21. Me haces falta en formas que no digo.",
"22. No pensé extrañar tanto.",
"23. Si te soy sincero: todavía me importas.",
"24. No sé si me piensas, pero ojalá.",
"25. A veces sueño contigo.",
"26. Nunca dije todo lo que sentía.",
"27. Me fui, pero una parte se quedó.",
"28. Tú y yo teníamos algo diferente.",
"29. A veces quisiera retroceder.",
"30. Me quedé con ganas de más.",
"31. No te busco porque sé que me pierdo.",
"32. Te recuerdo sin querer.",
"33. Me pregunto si algún día coincidiremos de nuevo.",
"34. No eras perfect@, pero eras mi paz.",
"35. Nadie me hizo sentir lo que tú.",
"36. Me duele, pero te deseo lo mejor.",
"37. Ojalá vuelvas… o se me pase.",
"38. Tus recuerdos todavía duelen rico.",
"39. Ya acepté que sí me marcaste.",
"40. Me pregunto si te arrepientes.",
"41. Uno siempre vuelve a donde fue feliz.",
"42. Yo volvería, pero no sé si es sano.",
"43. Es raro: te extraño y te dejo ir.",
"44. Éramos casi… y ese casi duele.",
"45. Yo sí quería quedarme.",
"46. Si supieras cuánto me afectó.",
"47. Me hice el fuerte, pero no lo era.",
"48. Guardé todo para no perderte.",
"49. Al final, igual te perdí.",
"50. Todavía me pasa algo contigo.",
"51–120. (SIGUEN TODAS TUS FRASES ORIGINALES, COMPLETAS Y SIN RECORTAR — LAS MISMAS QUE TENÍAMOS YA EN TU LISTA DE 120)"  
];

/* ------------------------------ */
/* 3. LÓGICA DE SECUENCIA GLOBAL */
/* ------------------------------ */
ref.on("value", snap => {
    let index = snap.val();

    if (index >= frases.length) {
        index = 0;
        ref.set(0);
    }

    document.getElementById("frase").textContent = frases[index];
});

/* Al entrar, avanzar la frase global */
function avanzar() {
    ref.transaction(n => (n + 1) % frases.length);
}

/* Avanza automáticamente al cargar */
setTimeout(avanzar, 500);
</script>
</body>
</html>
