<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>UNDETALLIS — Mensajes Secuenciales</title>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-database-compat.js"></script>

<style>
  body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    background: url('assets/fondo.jpg') center center / cover no-repeat fixed;
    animation: wiggleBackground 0.8s infinite ease-in-out;
  }

  @keyframes wiggleBackground {
    0%   { transform: translate(0px, 0px) scale(1.02); filter: brightness(1); }
    25%  { transform: translate(-2px, 1px) scale(1.02); filter: brightness(1.02); }
    50%  { transform: translate(2px, -1px) scale(1.025); filter: brightness(1); }
    75%  { transform: translate(-1px, -2px) scale(1.02); filter: brightness(0.99); }
    100% { transform: translate(1px, 2px) scale(1.02); filter: brightness(1); }
  }

  /* Contenedor del texto */
  #fraseBox {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 90%;
    transform: translate(-50%, -50%);
    background: white;
    padding: 40px 20px;
    border-radius: 20px;
    text-align: center;
    font-size: 28px;
    font-weight: 700;
    line-height: 1.3;
    box-shadow: 0 0 25px rgba(255, 255, 255, 0.7);
    animation: neonGlow 1.3s infinite alternate ease-in-out;
  }

  /* Glow animado */
  @keyframes neonGlow {
    0% {
      box-shadow: 
        0 0 10px #ff00ff,
        0 0 20px #ff00ff,
        0 0 35px #ff00ff;
    }
    100% {
      box-shadow: 
        0 0 20px #00ffff,
        0 0 35px #00ffff,
        0 0 50px #00ffff;
    }
  }

  /* Animación suave del texto */
  .animarTexto {
    animation: fadeInUp 0.8s ease-out forwards;
    opacity: 0;
  }

  @keyframes fadeInUp {
    0% { opacity:0; transform: translateY(15px); }
    100% { opacity:1; transform: translateY(0); }
  }
</style>
</head>

<body>

<div id="fraseBox">Cargando…</div>

<script>
/* -----------------------------
   1) CONFIG FIREBASE
------------------------------*/
const firebaseConfig = {
  apiKey: "AIzaSyCJ8sSO65rTjF04Dl7VMEuhrLj_Z9yAICs",
  authDomain: "undetallis.firebaseapp.com",
  databaseURL: "https://undetallis-default-rtdb.firebaseio.com",
  projectId: "undetallis",
  storageBucket: "undetallis.firebasestorage.app",
  messagingSenderId: "60709183880",
  appId: "1:60709183880:web:c7751f216ca7f5ad381a3d",
  measurementId: "G-5ZQY4JZBGX"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();

/* -----------------------------
   2) LISTA DE 120 FRASES COMPLETA
------------------------------*/
const frases = [
"¿Quién fue tu último crush?",
"¿Qué es lo primero que notas en alguien?",
"¿Cuál ha sido tu mayor metida de pata?",
"¿Qué es algo que te da pena admitir?",
"¿Qué es lo más loco que has hecho por amor?",
"¿Qué es algo que nunca le has contado a nadie?",
"¿Cuál ha sido tu sueño más raro?",
"¿Cuál fue tu peor cita?",
"¿Cuál es tu fantasía más inocente?",
"Menciona un secreto chiquito",
"¿Quién te parece atractiv@ del grupo?",
"¿Cuál es tu tipo de persona ideal?",
"¿Qué es lo más atrevido que has hecho en público?",
"¿Qué parte de tu cuerpo te gusta más?",
"¿Qué te derrite instantáneamente?",
"¿Cuál fue tu beso más memorable?",
"¿Qué es lo más loco que has enviado por mensaje?",
"¿Qué es lo que más te prende de alguien?",
"¿Qué es lo más prohibido que has hecho?",
"¿Preferirías besar a alguien aquí o mandar un mensaje vergonzoso?",
"¿Regresarías con tu ex?",
"¿Perdonarías una infidelidad?",
"¿Mentirías por alguien que amas?",
"¿Qué elegirías: amor o dinero?",
"¿Preferirías saber la verdad siempre o vivir feliz sin saber?",
"¿Qué prefieres: beso robado o beso lento?",
"¿Qué prefieres: alguien celoso o alguien demasiado libre?",
"¿Viajar al pasado o al futuro?",
"¿Decir siempre la verdad o no poder decir nada?",
"¿Amor intenso o amor estable?",
"¿Cuál es tu mayor cringe?",
"¿Qué te da más vergüenza admitir?",
"¿Cuál fue tu peor look de la vida?",
"Imita un sonido que te dé pena",
"¿Cuál es tu apodo más feo?",
"¿Qué rumor ridículo han dicho de ti?",
"¿Qué mentira piadosa dices siempre?",
"¿Cuál es tu guilty pleasure?",
"¿Qué comida te encanta pero te da pena pedir?",
"¿Cuál es tu verdadero yo tóxico?",
"Mira a alguien fijo por 5 segundos y pídele que confiese algo",
"Di la primera palabra que pienses… y explícalo",
"Di algo bonito de la persona a tu derecha",
"Imita a tu crush imaginario",
"Describe tu cita ideal en 10 segundos",
"Cuenta un secreto en clave",
"Di tu confesión susurrándola",
"Da un halago sincero a alguien del grupo",
"Haz una confesión usando solo 3 palabras",
"Explica tu última conversación rara de WhatsApp",
"¿Qué te gustaría cambiar de tu pasado?",
"¿Qué te da miedo que la gente descubra?",
"¿Qué te falta para ser feliz?",
"¿Qué te arrepientes de no haber dicho?",
"¿Qué te motiva más en la vida?",
"¿Qué herida del pasado aún te afecta?",
"¿Cuál ha sido tu momento más vulnerable?",
"¿Qué estás evitando últimamente?",
"¿A quién extrañas pero no contactas?",
"¿Qué te gustaría decirle a alguien pero no te atreves?",
"¿Qué es algo que quisieras intentar pero te da pena?",
"¿Qué es lo más impulsivo que has hecho?",
"¿Quién aquí te intimida un poquito?",
"Describe un recuerdo que todavía te da vergüenza",
"¿Qué conversación evitaste últimamente?",
"¿Qué te enamora sin esfuerzo?",
"¿Qué es algo que haces solo cuando nadie te ve?",
"Cuenta una mentira obvia como si fuera verdad",
"¿Qué es lo que más te cuesta admitir?",
"¿Qué canción te da pena aceptar que te gusta?",
"¿Quién fue tu amor platónico más raro?",
"¿Qué es lo más inmaduro que has hecho por alguien?",
"¿Cuál fue tu peor decisión por un impulso?",
"Haz una confesión sobre la persona que tengas enfrente",
"¿Qué hábito extraño tienes?",
"Di algo bonito que nadie sabe de ti",
"¿Qué es lo más cursi que has dicho?",
"¿Qué te dolió más de tu última relación?",
"¿Qué te haría sonrojar ahora mismo?",
"¿Cuál sería tu cita perfecta sin gastar dinero?",
"Confiesa algo que siempre pospones",
"Imita tu reacción cuando ves a alguien que te gusta",
"¿Qué es lo más raro que coleccionas o coleccionabas?",
"¿Qué te vuelve débil emocionalmente?",
"¿Qué mensaje te gustaría recibir hoy?",
"¿Qué persona marcó tu vida sin saberlo?",
"¿Qué sueño no le has contado a nadie?",
"¿Qué aprendiste de tu peor error?",
"¿Qué es lo más loco que hiciste estando feliz?",
"¿Qué frase te gustaría que alguien te dijera?",
"¿Qué hábito de otros te encanta secretamente?",
"¿Qué rumor inventarían de ti?",
"¿Qué es lo más sincero que has dicho sin querer?",
"¿Qué gesto pequeño te enamora?",
"¿Qué personalidad te derrite?",
"¿Qué es lo que más te cuesta soltar?",
"Di una confesión que solo entiendas tú",
"¿Qué pensamiento random tuviste hoy?",
"¿Qué habilidad tuya subestimas?",
"¿Qué parte de tu personalidad ocultas?",
"¿Qué cambiarías de tus decisiones pasadas?",
"¿Qué secreto gracioso tienes?",
"¿Qué harías si hoy fuera tu último día tranquilamente?",
"¿Qué es lo más raro que te gusta de alguien?",
"¿Qué fue lo último que te hizo sentir vivo?",
"¿Qué es lo que siempre quisiste decir y no dijiste?",
"¿Qué recuerdo tuyo siempre te hace reír?",
"¿Qué cosa inocente te vuelve nervioso?",
"¿Qué te gustaría hacer por primera vez este año?",
"¿Qué te enamora sin razones?",
"¿Cuál fue tu crush más inesperado?",
"¿Cuál es tu teoría más loca pero lógica?",
"¿Qué es algo que harías si nadie te juzgara?",
"¿Qué secreto solo tus amigos cercanos saben?",
"¿Qué es lo más ridículo que defendiste alguna vez?",
"Di algo que te hubiera gustado escuchar hoy",
"¿Qué vibra quieres dejar en las personas?",
"¿Qué es lo más valiente que hiciste sin pensarlo?",
"¿Qué es lo más honesto que te han dicho?",
"¿Qué te da miedo que descubran de ti?",
"¿Qué momento de tu vida repetirías?"
];

/* -----------------------------
   3) SINCRONIZACIÓN ENTRE DISPOSITIVOS
------------------------------*/

// nodo en Firebase
const ref = db.ref("ordenFrases");

// Si no existe aún, lo crea
ref.once("value").then(snap => {
  if (!snap.exists()) ref.set({ index: 0 });
});

// Al recibir cambios → mostrar frase correcta
ref.on("value", snap => {
  const idx = snap.val().index % frases.length;
  mostrarFrase(frases[idx]);
});

// Avanza el contador global
function avanzar() {
  ref.transaction(data => {
    if (!data) return { index: 0 };
    return { index: (data.index + 1) % frases.length };
  });
}

/* -----------------------------
   4) MOSTRAR FRASE CON ANIMACIÓN
------------------------------*/
function mostrarFrase(texto) {
  const box = document.getElementById("fraseBox");
  box.classList.remove("animarTexto");
  void box.offsetWidth; // reinicia animación
  box.textContent = texto;
  box.classList.add("animarTexto");
}

// Cada 5 segundos avanza automáticamente
setInterval(avanzar, 5000);
</script>

</body>
</html>
